# DGSS Data Viewer & AI Platform (DGSS交互平台)
下载地址：『来自123云盘用户ZHENGPENGDI的分享』DGSS野外手图数据Ai智能管理平台.rar
链接：https://www.123865.com/s/x0h6Vv-UYSRh?pwd=7777#
提取码：7777
## 📖 项目简介 (Introduction)

**DGSS Data Viewer & AI Platform** 是一个专为 **数字地质调查系统 (DGSS)** 设计的现代化数据交互与管理工具。

传统的 DGSS 野外手图数据（`.ta`, `.la`, `.pa` 等格式）通常需要依赖庞大的桌面 GIS 软件（如 GeoMap 或 MapGIS）才能查看和编辑。本平台旨在打破这一限制，提供一个轻量级、Web 化的解决方案，让地质工作者能够直接在浏览器中高效地管理野外数据。

更重要的是，本项目创新性地集成了 **本地化大语言模型 (Local LLM / Ollama)**，将 AI 的语义理解能力引入地质数据处理流程。通过 "AI 助手"，用户可以使用自然语言（如 "查找所有花岗岩记录" 或 "修正坐标格式错误"）来与复杂的数据库进行交互，实现了从传统 "人工录入" 向 "智能辅助" 的跨越。

## 🚀 核心功能 (Core Features)

### 1. 📂 深度适配 DGSS 数据格式

原生解析并可视化 DGSS 特有的 SQLite 存储格式，支持自动分类与关联：

- **点状地质体 (`.ta`)**: 自动识别并展示产状、采样点等关键属性。
- **线状地质体 (`.la`)**: 支持地质界线、断层线的数据结构解析。
- **面状地质体 (`.pa`)**: 解析地质体面元属性。
- **辅助数据库 (`.db`)**: 兼容野外记录簿、属性库等通用 SQLite 数据。

### 2. 🧠 智能化 AI 助手 (Powered by Ollama)

集成本地 Ollama 服务，确保数据不出本地（**隐私安全**），提供专家级辅助：

- **自然语言查询**: 无需通过 SQL 语句，直接问 "显示 PRB 库中所有的花岗岩数据"，AI 自动转化为查询操作。
- **智能上下文感知**: AI 理解当前的表结构和字段映射（例如理解 `LITHO` 代表 "岩性"），提供精准的回答。
- **数据清洗与生成**: 辅助识别录入错误（如坐标异常、字段缺失），并能根据路线上下文自动生成合理的地质描述。
- **自动化质检**: 一键扫描数据表，基于地质逻辑规则发现潜在的质量问题。

### 3. 📊 现代化交互界面

- **动态表格视图**: 支持海量数据的快速加载、分页、排序和字段过滤。
- **智能字段映射**: 内置地质字典，自动将系统字段名（如 `D_CODE`, `M_NO`）映射为易读的中文名称（如 `地层代号`, `图幅编号`）。
- **批量数据处理**: 支持多选记录进行批量修改，大幅提升野外数据整理效率。

### 4. 🛠️ 开发者友好

- **Python Flask 后端**: 逻辑清晰，易于扩展新的数据处理模块。
- **模块化设计**: 地质逻辑、AI 服务、数据访问层完全解耦。
- **高 DPI 适配**: 针对高分辨率屏幕优化的 UI 缩放支持。

## 系统要求 (Requirements)

- **操作系统**: Windows 10/11 (推荐)
- **Python 环境**: Python 3.12+
- **AI 运行时**: [Ollama](https://ollama.com/) (用于本地 AI 推理)
- **硬件建议**: 建议配备 8GB+ 显存的 NVIDIA 显卡以获得流畅的 AI 响应速度 (使用 7B/14B 模型时)。

## 安装与运行 (Installation & Usage)

1. **环境配置**:

   ```bash
   # 安装项目依赖
   pip install -r requirements.txt
   ```
2. **AI 模型准备**:
   安装 Ollama 后，在终端拉取推荐的中文能力较强的模型（推荐 Qwen 系列）：

   ```bash
   ollama pull qwen2.5:14b  # 或 qwen2.5:7b 用于低显存设备
   ```
3. **启动应用**:
   双击项目根目录下的 `start.bat`，或者手动运行：

   ```bash
   python app.py
   ```

   启动后，浏览器将自动打开 `http://127.0.0.1:5000`。

## 📖 技术文档

- **[Ollama 集成指南](ollama-integration.md)**: 详细说明了 AI Agent 如何构建 Prompt、处理上下文以及执行数据库操作的技术细节。

## 许可证 (License)

MIT License
